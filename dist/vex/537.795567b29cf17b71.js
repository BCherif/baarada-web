var xt=Object.defineProperty,_t=Object.defineProperties,Mt=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,j=(M,u,g)=>u in M?xt(M,u,{enumerable:!0,configurable:!0,writable:!0,value:g}):M[u]=g,S=(M,u)=>{for(var g in u||(u={}))Ct.call(u,g)&&j(M,g,u[g]);if(q)for(var g of q(u))yt.call(u,g)&&j(M,g,u[g]);return M},G=(M,u)=>_t(M,Mt(u));(self.webpackChunkvex=self.webpackChunkvex||[]).push([[537],{5015:(M,u)=>{u.Z={body:'<path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" fill="currentColor"/>',width:24,height:24}},2774:(M,u,g)=>{"use strict";g.d(u,{d:()=>b});var C=g(3668);let b=(()=>{class r{constructor(){}}return r.\u0275fac=function(_){return new(_||r)},r.\u0275dir=C.lG2({type:r,selectors:[["","vexPageLayoutContent",""],["vex-page-layout-content"]],hostAttrs:[1,"vex-page-layout-content"]}),r})()},2687:(M,u,g)=>{"use strict";g.d(u,{w:()=>r});var C=g(3668);const b=["*"];let r=(()=>{class x{constructor(){this.mode="simple"}get isCard(){return"card"===this.mode}get isSimple(){return"simple"===this.mode}}return x.\u0275fac=function(f){return new(f||x)},x.\u0275cmp=C.Xpm({type:x,selectors:[["vex-page-layout"]],hostAttrs:[1,"vex-page-layout"],hostVars:4,hostBindings:function(f,l){2&f&&C.ekj("vex-page-layout-card",l.isCard)("vex-page-layout-simple",l.isSimple)},inputs:{mode:"mode"},ngContentSelectors:b,decls:1,vars:0,template:function(f,l){1&f&&(C.F$t(),C.Hsn(0))},styles:[".vex-page-layout{display:block}.vex-page-layout-simple .vex-page-layout-content{padding-bottom:var(--padding-gutter);padding-top:var(--padding-gutter)}.vex-page-layout-card{padding-bottom:var(--padding)}.vex-page-layout-card .vex-page-layout-header{margin-bottom:calc(var(--page-layout-toolbar-height) * -1);padding-bottom:var(--page-layout-toolbar-height)}.vex-page-layout-card .vex-page-layout-content>*>.mat-tab-group .mat-tab-label,.vex-page-layout-card .vex-page-layout-content>.mat-tab-group .mat-tab-label{height:var(--page-layout-toolbar-height)}.vex-page-layout-card .vex-page-layout-content>*>.mat-tab-group .mat-tab-label.mat-tab-label-active,.vex-page-layout-card .vex-page-layout-content>.mat-tab-group .mat-tab-label.mat-tab-label-active{opacity:1}.vex-page-layout-header{align-items:center;background-color:rgb(var(--color-primary));color:rgb(var(--color-primary-contrast));box-sizing:content-box!important;display:flex;flex-direction:row;height:calc(var(--page-layout-header-height) - var(--page-layout-toolbar-height));padding-left:var(--padding);padding-right:var(--padding);place-content:center flex-start}.vex-page-layout-header .vex-breadcrumb{color:rgb(var(--color-primary-contrast));opacity:.5}.vex-page-layout-header .vex-breadcrumb:hover{color:rgb(var(--color-primary-contrast));opacity:1}.vex-page-layout-content{box-sizing:border-box;display:block;padding-left:var(--padding-gutter);padding-right:var(--padding-gutter)}\n"],encapsulation:2}),x})()},9942:(M,u,g)=>{"use strict";g.d(u,{B:()=>r});var C=g(6019),b=g(3668);let r=(()=>{class x{constructor(f){this.document=f,this.blobToFile=(l,y)=>{var v=l;return console.log("blllll",v),v.lastModifiedDate=new Date,v.name=y,l}}getFile(f,l){return new Promise((y,v)=>{const z=this.document.createElement("input");z.type="file",z.accept=f,z.multiple=l,z.addEventListener("error",k=>{v(k.error)}),z.addEventListener("change",k=>y(z.files)),z.click()})}dataURLtoBlob(f){let l=atob(f.split(",")[1]),y=[];for(var v=0;v<l.length;v++)y.push(l.charCodeAt(v));return new Blob([new Uint8Array(y)],{type:"image/jpeg"})}audioURLtoBlob(f){let l=atob(f.split(",")[1]),y=[];for(var v=0;v<l.length;v++)y.push(l.charCodeAt(v));return new Blob([new Uint8Array(y)],{type:"audio/mp3"})}}return x.\u0275fac=function(f){return new(f||x)(b.LFG(C.K0))},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},9224:(M,u,g)=>{"use strict";g.d(u,{D:()=>x});var C=g(8260),b=g(3668),r=g(4522);let x=(()=>{class _{constructor(l){this._httpClient=l,this.serviceURL=C.N.apiUrl+"/works"}findByPage(l,y){return this._httpClient.get(this.serviceURL+"/page?page="+(l=l||0)+"&size="+(y=y||10),{})}findAll(){return this._httpClient.get(this.serviceURL)}getById(l){return this._httpClient.get(this.serviceURL+"/"+l)}create(l){return this._httpClient.post(this.serviceURL+"/save",l)}update(l){return this._httpClient.put(this.serviceURL+"/update",l)}getImage(l){return this.serviceURL+"/download/"+l}}return _.\u0275fac=function(l){return new(l||_)(b.LFG(r.eN))},_.\u0275prov=b.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},2528:(M,u,g)=>{"use strict";function C(s,c,t,e,i,a,n){try{var o=s[a](n),h=o.value}catch(p){return void t(p)}o.done?c(h):Promise.resolve(h).then(e,i)}function b(s){return function(){var c=this,t=arguments;return new Promise(function(e,i){var a=s.apply(c,t);function n(h){C(a,e,i,n,o,"next",h)}function o(h){C(a,e,i,n,o,"throw",h)}n(void 0)})}}g.d(u,{ap:()=>gt,QG:()=>lt});var r=g(3668),x=g(5427),_=g(6019);const f=["wrapper"],l=["sourceImage"];function y(s,c){if(1&s){const t=r.EpF();r.TgZ(0,"img",4,5),r.NdJ("load",function(){return r.CHM(t),r.oxw().imageLoadedInView()})("mousedown",function(i){r.CHM(t);const a=r.oxw();return a.startMove(i,a.moveTypes.Drag)})("touchstart",function(i){r.CHM(t);const a=r.oxw();return a.startMove(i,a.moveTypes.Drag)}),r.qZA()}if(2&s){const t=r.oxw();r.Udp("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle),r.ekj("ngx-ic-draggable",!t.disabled&&t.allowMoveImage),r.Q6J("src",t.safeImgDataUrl,r.LSH)}}function v(s,c){if(1&s){const t=r.EpF();r.ynx(0),r.TgZ(1,"span",9),r.NdJ("mousedown",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"topleft")})("touchstart",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"topleft")}),r._UZ(2,"span",10),r.qZA(),r.TgZ(3,"span",11),r._UZ(4,"span",10),r.qZA(),r.TgZ(5,"span",12),r.NdJ("mousedown",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"topright")})("touchstart",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"topright")}),r._UZ(6,"span",10),r.qZA(),r.TgZ(7,"span",13),r._UZ(8,"span",10),r.qZA(),r.TgZ(9,"span",14),r.NdJ("mousedown",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"bottomright")})("touchstart",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"bottomright")}),r._UZ(10,"span",10),r.qZA(),r.TgZ(11,"span",15),r._UZ(12,"span",10),r.qZA(),r.TgZ(13,"span",16),r.NdJ("mousedown",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"bottomleft")})("touchstart",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"bottomleft")}),r._UZ(14,"span",10),r.qZA(),r.TgZ(15,"span",17),r._UZ(16,"span",10),r.qZA(),r.TgZ(17,"span",18),r.NdJ("mousedown",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"top")})("touchstart",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"top")}),r.qZA(),r.TgZ(18,"span",19),r.NdJ("mousedown",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"right")})("touchstart",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"right")}),r.qZA(),r.TgZ(19,"span",20),r.NdJ("mousedown",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"bottom")})("touchstart",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"bottom")}),r.qZA(),r.TgZ(20,"span",21),r.NdJ("mousedown",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"left")})("touchstart",function(i){r.CHM(t);const a=r.oxw(2);return a.startMove(i,a.moveTypes.Resize,"left")}),r.qZA(),r.BQk()}}function z(s,c){if(1&s){const t=r.EpF();r.TgZ(0,"div",6),r.NdJ("keydown",function(i){return r.CHM(t),r.oxw().keyboardAccess(i)}),r.TgZ(1,"div",7),r.NdJ("mousedown",function(i){r.CHM(t);const a=r.oxw();return a.startMove(i,a.moveTypes.Move)})("touchstart",function(i){r.CHM(t);const a=r.oxw();return a.startMove(i,a.moveTypes.Move)}),r.qZA(),r.YNc(2,v,21,0,"ng-container",8),r.qZA()}if(2&s){const t=r.oxw();r.Udp("top",t.cropper.y1,"px")("left",t.cropper.x1,"px")("width",t.cropper.x2-t.cropper.x1,"px")("height",t.cropper.y2-t.cropper.y1,"px")("margin-left","center"===t.alignImage?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),r.ekj("ngx-ic-round",t.roundCropper),r.xp6(2),r.Q6J("ngIf",!t.hideResizeSquares)}}class k{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(c){Object.keys(c).filter(t=>t in this).forEach(t=>this[t]=c[t]),this.validateOptions()}setOptionsFromChanges(c){Object.keys(c).filter(t=>t in this).forEach(t=>this[t]=c[t].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var A=(()=>{return(s=A||(A={})).Drag="drag",s.Move="move",s.Resize="resize",s.Pinch="pinch",A;var s})();function Y(s,c){return s/100*c}let at=(()=>{class s{crop(t,e,i,a){const n=this.getImagePosition(t,e,i,a),o=n.x2-n.x1,h=n.y2-n.y1,p=document.createElement("canvas");p.width=o,p.height=h;const m=p.getContext("2d");if(!m)return null;null!=a.backgroundColor&&(m.fillStyle=a.backgroundColor,m.fillRect(0,0,o,h));const d=(a.transform.scale||1)*(a.transform.flipH?-1:1),I=(a.transform.scale||1)*(a.transform.flipV?-1:1),{translateH:T,translateV:E}=this.getCanvasTranslate(t,e,a),R=e.transformed;m.setTransform(d,0,0,I,R.size.width/2+T,R.size.height/2+E),m.translate(-n.x1/d,-n.y1/I),m.rotate((a.transform.rotate||0)*Math.PI/180),m.drawImage(R.image,-R.size.width/2,-R.size.height/2);const w={width:o,height:h,imagePosition:n,cropperPosition:S({},i)};a.containWithinAspectRatio&&(w.offsetImagePosition=this.getOffsetImagePosition(t,e,i,a));const B=this.getResizeRatio(o,h,a);return 1!==B&&(w.width=Math.round(o*B),w.height=a.maintainAspectRatio?Math.round(w.width/a.aspectRatio):Math.round(h*B),function(s,c,t){const e=s.width,i=s.height,a=e/(c=Math.round(c)),n=i/(t=Math.round(t)),o=Math.ceil(a/2),h=Math.ceil(n/2),p=s.getContext("2d");if(p){const m=p.getImageData(0,0,e,i),d=p.createImageData(c,t),I=m.data,T=d.data;for(let E=0;E<t;E++)for(let R=0;R<c;R++){const w=4*(R+E*c),B=E*n;let H=0,U=0,Z=0,P=0,V=0,X=0,N=0;const dt=Math.floor(R*a),mt=Math.floor(E*n);let Q=Math.ceil((R+1)*a),F=Math.ceil((E+1)*n);Q=Math.min(Q,e),F=Math.min(F,i);for(let L=mt;L<F;L++){const J=Math.abs(B-L)/h,ut=R*a,ft=J*J;for(let D=dt;D<Q;D++){const K=Math.abs(ut-D)/o,O=Math.sqrt(ft+K*K);if(O>=1)continue;H=2*O*O*O-3*O*O+1;const W=4*(D+L*e);N+=H*I[W+3],Z+=H,I[W+3]<255&&(H=H*I[W+3]/250),P+=H*I[W],V+=H*I[W+1],X+=H*I[W+2],U+=H}}T[w]=P/U,T[w+1]=V/U,T[w+2]=X/U,T[w+3]=N/Z}s.width=c,s.height=t,p.putImageData(d,0,0)}}(p,w.width,w.height)),w.base64=p.toDataURL("image/"+a.format,this.getQuality(a)),w}getCanvasTranslate(t,e,i){if("px"===i.transform.translateUnit){const a=this.getRatio(t,e);return{translateH:(i.transform.translateH||0)*a,translateV:(i.transform.translateV||0)*a}}return{translateH:i.transform.translateH?Y(i.transform.translateH,e.transformed.size.width):0,translateV:i.transform.translateV?Y(i.transform.translateV,e.transformed.size.height):0}}getRatio(t,e){return e.transformed.size.width/t.nativeElement.offsetWidth}getImagePosition(t,e,i,a){const n=this.getRatio(t,e),o={x1:Math.round(i.x1*n),y1:Math.round(i.y1*n),x2:Math.round(i.x2*n),y2:Math.round(i.y2*n)};return a.containWithinAspectRatio||(o.x1=Math.max(o.x1,0),o.y1=Math.max(o.y1,0),o.x2=Math.min(o.x2,e.transformed.size.width),o.y2=Math.min(o.y2,e.transformed.size.height)),o}getOffsetImagePosition(t,e,i,a){const h=e.transformed.size.width/t.nativeElement.offsetWidth;let p,m;(a.canvasRotation+e.exifTransform.rotate)%2?(p=(e.transformed.size.width-e.original.size.height)/2,m=(e.transformed.size.height-e.original.size.width)/2):(p=(e.transformed.size.width-e.original.size.width)/2,m=(e.transformed.size.height-e.original.size.height)/2);const d={x1:Math.round(i.x1*h)-p,y1:Math.round(i.y1*h)-m,x2:Math.round(i.x2*h)-p,y2:Math.round(i.y2*h)-m};return a.containWithinAspectRatio||(d.x1=Math.max(d.x1,0),d.y1=Math.max(d.y1,0),d.x2=Math.min(d.x2,e.transformed.size.width),d.y2=Math.min(d.y2,e.transformed.size.height)),d}getResizeRatio(t,e,i){const a=i.resizeToWidth/t,n=i.resizeToHeight/e,o=new Array;i.resizeToWidth>0&&o.push(a),i.resizeToHeight>0&&o.push(n);const h=0===o.length?1:Math.min(...o);return h>1&&!i.onlyScaleDown?h:Math.min(h,1)}getQuality(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=r.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),rt=(()=>{class s{resetCropperPosition(t,e,i){if(!(null==t?void 0:t.nativeElement))return;const a=t.nativeElement;if(i.cropperStaticHeight&&i.cropperStaticWidth)e.x1=0,e.x2=a.offsetWidth>i.cropperStaticWidth?i.cropperStaticWidth:a.offsetWidth,e.y1=0,e.y2=a.offsetHeight>i.cropperStaticHeight?i.cropperStaticHeight:a.offsetHeight;else{const n=Math.min(i.cropperScaledMaxWidth,a.offsetWidth),o=Math.min(i.cropperScaledMaxHeight,a.offsetHeight);if(i.maintainAspectRatio)if(a.offsetWidth/i.aspectRatio<a.offsetHeight){e.x1=0,e.x2=n;const h=n/i.aspectRatio;e.y1=(a.offsetHeight-h)/2,e.y2=e.y1+h}else{e.y1=0,e.y2=o;const h=o*i.aspectRatio;e.x1=(a.offsetWidth-h)/2,e.x2=e.x1+h}else e.x1=0,e.x2=n,e.y1=0,e.y2=o}}move(t,e,i){const a=this.getClientX(t)-e.clientX,n=this.getClientY(t)-e.clientY;i.x1=e.x1+a,i.y1=e.y1+n,i.x2=e.x2+a,i.y2=e.y2+n}resize(t,e,i,a,n){const o=this.getClientX(t)-e.clientX,h=this.getClientY(t)-e.clientY;switch(e.position){case"left":i.x1=Math.min(Math.max(e.x1+o,i.x2-n.cropperScaledMaxWidth),i.x2-n.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(e.x1+o,i.x2-n.cropperScaledMaxWidth),i.x2-n.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.y1+h,i.y2-n.cropperScaledMaxHeight),i.y2-n.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(e.y1+h,i.y2-n.cropperScaledMaxHeight),i.y2-n.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(e.x2+o,i.x1+n.cropperScaledMaxWidth),i.x1+n.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.y1+h,i.y2-n.cropperScaledMaxHeight),i.y2-n.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(e.x2+o,i.x1+n.cropperScaledMaxWidth),i.x1+n.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(e.x2+o,i.x1+n.cropperScaledMaxWidth),i.x1+n.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.y2+h,i.y1+n.cropperScaledMaxHeight),i.y1+n.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(e.y2+h,i.y1+n.cropperScaledMaxHeight),i.y1+n.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(e.x1+o,i.x2-n.cropperScaledMaxWidth),i.x2-n.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.y2+h,i.y1+n.cropperScaledMaxHeight),i.y1+n.cropperScaledMinHeight);break;case"center":const p=t.scale,m=Math.min(Math.max(n.cropperScaledMinWidth,Math.abs(e.x2-e.x1)*p),n.cropperScaledMaxWidth),d=Math.min(Math.max(n.cropperScaledMinHeight,Math.abs(e.y2-e.y1)*p),n.cropperScaledMaxHeight);i.x1=e.clientX-m/2,i.x2=e.clientX+m/2,i.y1=e.clientY-d/2,i.y2=e.clientY+d/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>a.width&&(i.x1-=i.x2-a.width,i.x2=a.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>a.height&&(i.y1-=i.y2-a.height,i.y2=a.height)}n.maintainAspectRatio&&this.checkAspectRatio(e.position,i,a,n)}checkAspectRatio(t,e,i,a){let n=0,o=0;switch(t){case"top":e.x2=e.x1+(e.y2-e.y1)*a.aspectRatio,n=Math.max(e.x2-i.width,0),o=Math.max(0-e.y1,0),(n>0||o>0)&&(e.x2-=o*a.aspectRatio>n?o*a.aspectRatio:n,e.y1+=o*a.aspectRatio>n?o:n/a.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*a.aspectRatio,n=Math.max(e.x2-i.width,0),o=Math.max(e.y2-i.height,0),(n>0||o>0)&&(e.x2-=o*a.aspectRatio>n?o*a.aspectRatio:n,e.y2-=o*a.aspectRatio>n?o:n/a.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/a.aspectRatio,n=Math.max(0-e.x1,0),o=Math.max(0-e.y1,0),(n>0||o>0)&&(e.x1+=o*a.aspectRatio>n?o*a.aspectRatio:n,e.y1+=o*a.aspectRatio>n?o:n/a.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/a.aspectRatio,n=Math.max(e.x2-i.width,0),o=Math.max(0-e.y1,0),(n>0||o>0)&&(e.x2-=o*a.aspectRatio>n?o*a.aspectRatio:n,e.y1+=o*a.aspectRatio>n?o:n/a.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/a.aspectRatio,n=Math.max(e.x2-i.width,0),o=Math.max(e.y2-i.height,0),(n>0||o>0)&&(e.x2-=o*a.aspectRatio>n?o*a.aspectRatio:n,e.y2-=o*a.aspectRatio>n?o:n/a.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/a.aspectRatio,n=Math.max(0-e.x1,0),o=Math.max(e.y2-i.height,0),(n>0||o>0)&&(e.x1+=o*a.aspectRatio>n?o*a.aspectRatio:n,e.y2-=o*a.aspectRatio>n?o:n/a.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*a.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/a.aspectRatio;const h=Math.max(0-e.x1,0),p=Math.max(e.x2-i.width,0),m=Math.max(e.y2-i.height,0),d=Math.max(0-e.y1,0);(h>0||p>0||m>0||d>0)&&(e.x1+=m*a.aspectRatio>h?m*a.aspectRatio:h,e.x2-=d*a.aspectRatio>p?d*a.aspectRatio:p,e.y1+=d*a.aspectRatio>p?d:p/a.aspectRatio,e.y2-=m*a.aspectRatio>h?m:h/a.aspectRatio)}}getClientX(t){var e;return(null==(e=t.touches)?void 0:e[0].clientX)||t.clientX||0}getClientY(t){var e;return(null==(e=t.touches)?void 0:e[0].clientY)||t.clientY||0}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=r.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();let pt=(()=>{class s{constructor(){this.autoRotateSupported=new Promise(s=>{const c=new Image;c.onload=()=>{s(1===c.width&&2===c.height)},c.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}loadImageFile(t,e){return new Promise((i,a)=>{const n=new FileReader;n.onload=o=>{this.loadImage(o.target.result,t.type,e).then(i).catch(a)},n.readAsDataURL(t)})}loadImage(t,e,i){return this.isValidImageType(e)?this.loadBase64Image(t,i):Promise.reject(new Error("Invalid image type"))}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(t)}loadImageFromURL(t,e){return new Promise((i,a)=>{const n=new Image;n.onerror=()=>a,n.onload=()=>{const o=document.createElement("canvas"),h=o.getContext("2d");o.width=n.width,o.height=n.height,null==h||h.drawImage(n,0,0),this.loadBase64Image(o.toDataURL(),e).then(i)},n.crossOrigin="anonymous",n.src=t})}loadBase64Image(t,e){return new Promise((i,a)=>{const n=new Image;n.onload=()=>i({originalImage:n,originalBase64:t}),n.onerror=a,n.src=t}).then(i=>this.transformImageBase64(i,e))}transformImageBase64(t,e){var i=this;return b(function*(){const a=yield i.autoRotateSupported,n=yield function(s){switch("string"==typeof s&&(s=function(s){const c=new DataView(function(s){s=s.replace(/^data\:([^\;]+)\;base64,/gim,"");const c=atob(s),t=c.length,e=new Uint8Array(t);for(let i=0;i<t;i++)e[i]=c.charCodeAt(i);return e.buffer}(s));if(65496!==c.getUint16(0,!1))return-2;const t=c.byteLength;let e=2;for(;e<t;){if(c.getUint16(e+2,!1)<=8)return-1;const i=c.getUint16(e,!1);if(e+=2,65505==i){if(1165519206!==c.getUint32(e+=2,!1))return-1;const a=18761==c.getUint16(e+=6,!1);e+=c.getUint32(e+4,a);const n=c.getUint16(e,a);e+=2;for(let o=0;o<n;o++)if(274==c.getUint16(e+12*o,a))return c.getUint16(e+12*o+8,a)}else{if(65280!=(65280&i))break;e+=c.getUint16(e,!1)}}return-1}(s)),s){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(a?-1:t.originalBase64);return t.originalImage&&t.originalImage.complete?i.transformLoadedImage({original:{base64:t.originalBase64,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:n},e):Promise.reject(new Error("No image loaded"))})()}transformLoadedImage(t,e){var i=this;return b(function*(){const a=e.canvasRotation+t.exifTransform.rotate,n={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight};if(0===a&&!t.exifTransform.flip&&!e.containWithinAspectRatio)return{original:{base64:t.original.base64,image:t.original.image,size:S({},n)},transformed:{base64:t.original.base64,image:t.original.image,size:S({},n)},exifTransform:t.exifTransform};const o=i.getTransformedSize(n,t.exifTransform,e),h=document.createElement("canvas");h.width=o.width,h.height=o.height;const p=h.getContext("2d");null==p||p.setTransform(t.exifTransform.flip?-1:1,0,0,1,h.width/2,h.height/2),null==p||p.rotate(Math.PI*(a/2)),null==p||p.drawImage(t.original.image,-n.width/2,-n.height/2);const m=h.toDataURL(),d=yield i.loadImageFromBase64(m);return{original:{base64:t.original.base64,image:t.original.image,size:S({},n)},transformed:{base64:m,image:d,size:{width:d.width,height:d.height}},exifTransform:t.exifTransform}})()}loadImageFromBase64(t){return new Promise((e,i)=>{const a=new Image;a.onload=()=>e(a),a.onerror=i,a.src=t})}getTransformedSize(t,e,i){const a=i.canvasRotation+e.rotate;if(i.containWithinAspectRatio){if(a%2){const o=t.height/i.aspectRatio;return{width:Math.max(t.height,t.width*i.aspectRatio),height:Math.max(t.width,o)}}{const o=t.width/i.aspectRatio;return{width:Math.max(t.width,t.height*i.aspectRatio),height:Math.max(t.height,o)}}}return a%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=r.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),gt=(()=>{class s{constructor(t,e,i,a,n){this.cropService=t,this.cropperPositionService=e,this.loadImageService=i,this.sanitizer=a,this.cd=n,this.Hammer=(null==window?void 0:window.Hammer)||null,this.settings=new k,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=A,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new r.vpe,this.startCropImage=new r.vpe,this.imageLoaded=new r.vpe,this.cropperReady=new r.vpe,this.loadImageFailed=new r.vpe,this.transformChange=new r.vpe,this.reset()}ngOnChanges(t){var e;this.onChangesUpdateSettings(t),this.onChangesInputImage(t),(null==(e=this.loadedImage)?void 0:e.original.image.complete)&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i)),(t.cropper||t.maintainAspectRatio||t.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!t.maintainAspectRatio&&!t.aspectRatio?t.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),t.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){var t,e,i;return(null==(i=null==(e=null==(t=this.imageChangedEvent)?void 0:t.target)?void 0:e.files)?void 0:i.length)>0}setCssTransform(){var e;const t=(null==(e=this.transform)?void 0:e.translateUnit)||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${t}, ${this.transform.translateV||0}${t}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(t){this.loadImageService.loadImageFile(t,this.settings).then(e=>this.setLoadedImage(e)).catch(e=>this.loadImageError(e))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.settings).then(e=>this.setLoadedImage(e)).catch(e=>this.loadImageError(e))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.settings).then(e=>this.setLoadedImage(e)).catch(e=>this.loadImageError(e))}setLoadedImage(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()}loadImageError(t){console.error(t),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(S({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){var t,e;return(null==(e=null==(t=this.sourceImage)?void 0:t.nativeElement)?void 0:e.offsetWidth)>0}onResize(){!this.loadedImage||(this.hidden?this.resizedWhileHidden=!0:(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()))}activatePinchGesture(){if(this.Hammer){const t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else(0,r.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const t=this.sourceImage.nativeElement;(this.maxSize.width!==t.offsetWidth||this.maxSize.height!==t.offsetHeight)&&(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){const e=+t.key;e>=1&&e<=9&&(this.settings.stepSize=e)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;const i=t.shiftKey?A.Resize:A.Move,a=t.altKey?function(s){switch(s){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(t.key):function(s){switch(s){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(t.key),n=function(s,c){switch(s){case"ArrowUp":return{clientX:0,clientY:-1*c};case"ArrowRight":return{clientX:c,clientY:0};case"ArrowDown":return{clientX:0,clientY:c};default:return{clientX:-1*c,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},i,a),this.moveImg(n),this.moveStop()}startMove(t,e,i=null){var a,n;this.disabled||(null==(a=this.moveStart)?void 0:a.active)&&(null==(n=this.moveStart)?void 0:n.type)===A.Pinch||e===A.Drag&&!this.allowMoveImage||(t.preventDefault&&t.preventDefault(),this.moveStart=S({active:!0,type:e,position:i,transform:S({},this.transform),clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t)},this.cropper))}startPinch(t){!this.safeImgDataUrl||(t.preventDefault&&t.preventDefault(),this.moveStart=S({active:!0,type:A.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(t){var e,i;if(this.moveStart.active){if(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===A.Move)this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===A.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===A.Drag){const a=this.cropperPositionService.getClientX(t)-this.moveStart.clientX,n=this.cropperPositionService.getClientY(t)-this.moveStart.clientY;this.transform=G(S({},this.transform),{translateH:((null==(e=this.moveStart.transform)?void 0:e.translateH)||0)+a,translateV:((null==(i=this.moveStart.transform)?void 0:i.translateV)||0)+n}),this.setCssTransform()}this.cd.detectChanges()}}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===A.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){var t,e;(null==(e=null==(t=this.loadedImage)?void 0:t.transformed)?void 0:e.image)?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){var t,e;if(null==(e=null==(t=this.loadedImage)?void 0:t.transformed)?void 0:e.image){const i=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/i:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/i:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){var t;this.moveStart.active&&(this.moveStart.active=!1,(null==(t=this.moveStart)?void 0:t.type)===A.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){var t,e;if(null!=(null==(e=null==(t=this.loadedImage)?void 0:t.transformed)?void 0:e.image)){this.startCropImage.emit();const i=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=i&&this.imageCropped.emit(i),i}return null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return s.\u0275fac=function(t){return new(t||s)(r.Y36(at),r.Y36(rt),r.Y36(pt),r.Y36(x.H7),r.Y36(r.sBO))},s.\u0275cmp=r.Xpm({type:s,selectors:[["image-cropper"]],viewQuery:function(t,e){if(1&t&&(r.Gf(f,7),r.Gf(l,5)),2&t){let i;r.iGM(i=r.CRH())&&(e.wrapper=i.first),r.iGM(i=r.CRH())&&(e.sourceImage=i.first)}},hostVars:6,hostBindings:function(t,e){1&t&&r.NdJ("resize",function(){return e.onResize()},!1,r.Jf7)("mousemove",function(a){return e.moveImg(a)},!1,r.evT)("touchmove",function(a){return e.moveImg(a)},!1,r.evT)("mouseup",function(){return e.moveStop()},!1,r.evT)("touchend",function(){return e.moveStop()},!1,r.evT),2&t&&(r.Udp("text-align",e.alignImage),r.ekj("disabled",e.disabled)("ngx-ix-hidden",e.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[r.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(r.TgZ(0,"div",null,0),r.YNc(2,y,2,7,"img",1),r._UZ(3,"div",2),r.YNc(4,z,3,15,"div",3),r.qZA()),2&t&&(r.Udp("background",e.imageVisible&&e.backgroundColor),r.xp6(2),r.Q6J("ngIf",e.safeImgDataUrl),r.xp6(1),r.Udp("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),r.xp6(1),r.Q6J("ngIf",e.imageVisible))},directives:[_.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),s})(),lt=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=r.oAB({type:s}),s.\u0275inj=r.cJS({imports:[[_.ez]]}),s})()}}]);