<vex-page-layout>

  <vex-page-layout-header class="pb-16" fxLayout="column" fxLayoutAlign="center start">
    <div [class.px-gutter]="'fullwidth'" class="w-full flex flex-col sm:flex-row justify-between">
      <div>
        <h1 class="title mt-0 mb-1">Administration</h1>
        <vex-breadcrumbs [crumbs]="['Utilisateurs', '']"></vex-breadcrumbs>
      </div>

    </div>
  </vex-page-layout-header>

  <vex-page-layout-content [class.px-gutter]="'fullwidth'" class="-mt-6">

    <div class="overflow-auto -mt-16" fxLayout="column">
      <div class="bg-app-bar px-6 h-16 border-b sticky left-0" fxLayout="row" fxLayoutAlign="start center">
        <mat-icon [icIcon]="icUsers" class="mr-4"></mat-icon>
        <h2 class="title my-0 ltr:pr-4 rtl:pl-4 ltr:mr-4 rtl:ml-4 ltr:border-r rtl:border-l" fxFlex="none"
            fxHide.xs>
          <span>Utilisateurs</span>
        </h2>

        <div class="bg-card rounded-full border px-4"
             fxFlex="400px"
             fxFlex.lt-md="auto"
             fxHide.xs
             fxLayout="row"
             fxLayoutAlign="start center">
          <ic-icon [icIcon]="icSearch" size="20px"></ic-icon>
          <input [formControl]="searchFromCtrl"
                 class="px-4 py-3 border-0 outline-none w-full bg-transparent"
                 placeholder="Recherche ..."
                 type="search">

          <button class="ml-4" color="primary" fxFlex="none" mat-icon
                  matTooltip="Rafraichir" type="button">
            <mat-icon [icIcon]="icRefresh"></mat-icon>
          </button>
        </div>

        <span fxFlex></span>

        <button (click)="showFormDialog()" class="ml-4" color="primary" fxFlex="none" mat-mini-fab
                matTooltip="Nouveau Poste"
                type="button">
          <mat-icon [icIcon]="icAdd"></mat-icon>
        </button>
      </div>

      <div *ngIf="totalElements > 0"
           @stagger
           class="overflow-y-auto"
           fxFlex="99">
        <div class="p-gutter"
             gdColumns="1fr 1fr 1fr 1fr"
             gdColumns.lt-md="1fr 1fr"
             gdColumns.xs="1fr"
             gdGap="24px"
             vexContainer>
          <baarada-users-card (disableOrEnableUser)="disableOrEnable(user, rowIndex)"
                              (showUserDialog)="showFormDialog(user, rowIndex)"
                              *ngFor="let user of users; let rowIndex=index;"
                              @fadeInUp [user]="user"></baarada-users-card>
        </div>
      </div>

      <div *ngIf="totalElements === 0"
           @scaleFadeIn
           fxFlex="99"
           fxLayout="column"
           fxLayoutAlign="center center">
        <img class="m-12 h-64" src="assets/img/illustrations/idea.svg">
        <h2 class="headline m-0 text-center">Pas d'utilisateurs correspondant Ã  votre recherche</h2>
      </div>

    </div>

  </vex-page-layout-content>

</vex-page-layout>
